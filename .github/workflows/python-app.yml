# This workflow will install Python dependencies, run tests and lint with a single version of Python
# For more information see: https://help.github.com/actions/language-and-framework-guides/using-python-with-github-actions

name: Python application

on:
  push:
    branches: [ main ]

jobs:
  build:

    runs-on: ubuntu-latest

    steps:
    - uses: actions/checkout@v2
    - name: Set up Python 3.8
      uses: actions/setup-python@v2
      with:
        python-version: "3.8.10"
    - name: Install dependencies
      run: source /home/faststagingtiavm/.virtualenvs/elkdemoenv/bin/activate
    - name: change directory 
      run: cd ~/elk_demo
    - name: pull from branch  
      run: git checkout main
#   - name: Setup SSH
  # You may pin to the exact commit or the version.
  # uses: kielabokkie/ssh-key-and-known-hosts-action@e5c88dc608851beb90a7a78c7d5d2ef6f62f9860
#  uses: kielabokkie/ssh-key-and-known-hosts-action@v1.2.0
 # with:
    # Private key required to access the host
 #   ssh-private-key: ${{secrets.SSH_PRIVATE_KEY}}
    # Hostname or IP to add to the known hosts file
  #  ssh-host: ${{secrets.SSH_HOST}}
    # Port for key-scanning the server
   # ssh-port: ${{secrets.SSH_PORT}}
    
    #script: |
     # source /home/faststagingtiavm/.virtualenvs/elkdemoenv/bin/activate
      #cd ~/elk_demo
      #git checkout -f 
     # git pull 
      
      
        python -m pip install -r req.txt 
